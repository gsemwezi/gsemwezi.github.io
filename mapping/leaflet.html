<html>
	
	<head>
		
		<title>Leaflet Example</title>
		
		<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
		<link rel="stylesheet" href="resources/leaflet.label.css" />
		
		<script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
		<script src="resources/leaflet.label-src.js"></script>
		<script src="resources/leaflet.ajax.js"></script>
		<style>
			body { margin:0; padding:0; }
			#map { position:absolute; top:0; bottom:0; width:100%; }
		</style>
	</head>
	
	<body>
		
		<div id="map"></div>
		<script>
		
			var mapboxTiles = L.tileLayer('https://{s}.tiles.mapbox.com/v3/gsemwezi.jf5dm5oh/{z}/{x}/{y}.png', {
				attribution: '<a href="http://www.mapbox.com/about/maps/" target="_blank">Terms &amp; Feedback</a>'
			});

			var map = L.map('map')
				.addLayer(mapboxTiles)
				.setView([1.310321, 32.577900], 8);
			
			var geoJsonLayer = new L.GeoJSON.AJAX("geojson/uganda.json",{onEachFeature:onEachFeature}).addTo(map);
			
			function onEachFeature(feature, layer) {
				if (feature.properties) {
					layer.bindLabel(feature.properties.ADM2_NAME, { noHide: true, direction: 'auto' });
				}
				addMarker(layer.getBounds().getCenter(), feature.properties.ADM2_NAME);
			}
			
			function addMarker(marker_position, feature_name){
				L.marker(marker_position).bindLabel(feature_name);
			}
		</script>

  
	</body>
	
</html>